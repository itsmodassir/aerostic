# Aerostic Implementation Plan - Phase 10 (Intelligent Agent)

## Goal Description
Upgrade the **AI Agent Module** from a simple stub ("I see you said...") to a real **Generative AI** integration.
We will use **Google Gemini** (via `@google/generative-ai`) to answer user queries intelligently when no Automation Rule matches.

## Proposed Changes

### Backend (NestJS)
#### [MODIFY] [AI Service](file:///Users/Modassir/Desktop/aerostic/apps/backend/src/ai/ai.service.ts)
-   **Install**: `@google/generative-ai`.
-   **Config**: Add `GEMINI_API_KEY` to `.env`.
-   **Logic**:
    1.  Receive user message.
    2.  Check for context (optional for MVP, or just single-turn).
    3.  Call Gemini API with a system prompt ("You are a helpful assistant for [Tenant Name]...").
    4.  Send generated response back to user via WhatsApp.

### Frontend (Next.js)
#### [NEW] [AI Settings Page](file:///Users/Modassir/Desktop/aerostic/apps/frontend/app/dashboard/settings/ai/page.tsx)
-   **System Prompt**: Allow user to define the "Persona" (e.g., "You are a customer support agent for Acme Corp.").
-   **Toggle**: Enable/Disable AI fallback.

## Verification Plan
1.  **Configure**: Set `GEMINI_API_KEY`.
2.  **Test**: Send "What are your hours?" to the WhatsApp Sandbox.
3.  **Result**: Received a relevant answer generated by the AI, not the hardcoded stub.
